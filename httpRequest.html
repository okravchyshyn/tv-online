<!DOCTYPE html>
<html>
<body>

<p>Click the button to display the current day, date, and time.</p>
<p id="demo"></p>

<button type="button" onclick="myFunction()">Try it</button>

<script>

function myFunction() {
 var theUrl = "http://127.0.0.1:8080/?channel=http://tvx.com.ua/tv/kanal-2-plus-2/";
 var xhttp = null;
   
if (window.XMLHttpRequest)
  {
  xhttp=new XMLHttpRequest();
  }
else // code for IE5 and IE6
  {
  xhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }

   //xhttp.setRequestHeader("Access-Control-Allow-Origin","*");
   xhttp.open("GET",theUrl,false);
   xhttp.setRequestHeader('Access-Control-Allow-Origin', '*');
   xhttp.setRequestHeader('Access-Control-Allow-Methods', 'GET'); 
  //xhttp.setRequestHeader("Access-Control-Allow-Origin","*");
   xhttp.send(null);
   if(xhttp.status == 200)
   {  
      var xmlDoc=loadXMLString(xhttp.responseText);
      var doms = xmlDoc.getElementsByTagName("div");
      var dom = findElementByName(xmlDoc.childNodes, "video-block");
      alert("Hello! I am an alert box!!");
      
   } else 
   { 
      alert("Hello! !!");
   }
}


function findElementByName(domObj, elemName) {
   for(var i = 0; i < domObj.length; i++) {
        var dom = domObj[i];
        var t =  typeof(dom);  
        var attr = 0;
        if ("id" in dom) { attr = 1;}
        //var a = dom.attr("id")
        if (attr && dom.id == elemName) {
            return dom;
        }
        dom = findElementByName(dom.childNodes, elemName);
        if (dom != null) return dom;
   }
   return null;
}


function loadXMLString(txt)
{
if (window.DOMParser)
  {
  parser=new DOMParser();
  xmlDoc=parser.parseFromString(txt,"text/html");
  }
else // code for IE
  {
  xmlDoc=new ActiveXObject("Microsoft.XMLDOM");
  xmlDoc.async=false;
  xmlDoc.loadXML(txt);
  }
return xmlDoc;
}

</script>

</body>
</html> 

